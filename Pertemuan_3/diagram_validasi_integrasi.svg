<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">
    Alur Validasi Data & Integrasi Database JSON
  </text>
  
  <!-- Step 1: Input Form -->
  <rect x="50" y="70" width="120" height="60" rx="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="110" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    1. Input Form
  </text>
  <text x="110" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    (HTML Form)
  </text>
  
  <!-- Arrow 1 -->
  <path d="M 170 100 L 210 100" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: Client-Side Validation -->
  <rect x="220" y="70" width="120" height="60" rx="10" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="280" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    2. Client-Side
  </text>
  <text x="280" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    Validation
  </text>
  <text x="280" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
    (JavaScript)
  </text>
  
  <!-- Arrow 2 -->
  <path d="M 340 100 L 380 100" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3: Flask Route -->
  <rect x="390" y="70" width="120" height="60" rx="10" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
  <text x="450" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    3. Flask Route
  </text>
  <text x="450" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    (POST Request)
  </text>
  
  <!-- Arrow 3 -->
  <path d="M 510 100 L 550 100" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 4: Server-Side Validation -->
  <rect x="560" y="70" width="120" height="60" rx="10" fill="#e67e22" stroke="#d35400" stroke-width="2"/>
  <text x="620" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    4. Server-Side
  </text>
  <text x="620" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    Validation
  </text>
  <text x="620" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
    (Python Functions)
  </text>
  
  <!-- Decision Diamond -->
  <polygon points="620,150 670,180 620,210 570,180" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
  <text x="620" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">
    Valid?
  </text>
  
  <!-- Arrow down from validation -->
  <path d="M 620 130 L 620 150" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Error Path -->
  <path d="M 570 180 L 450 180 L 450 250" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="510" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c" font-weight="bold">
    Tidak Valid
  </text>
  
  <!-- Error Response -->
  <rect x="390" y="250" width="120" height="60" rx="10" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="450" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    Error Response
  </text>
  <text x="450" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Flash Message
  </text>
  <text x="450" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
    (Redirect ke Form)
  </text>
  
  <!-- Success Path -->
  <path d="M 670 180 L 720 180 L 720 250" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="695" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#27ae60" font-weight="bold">
    Valid
  </text>
  
  <!-- Step 5: Database Operation -->
  <rect x="660" y="250" width="120" height="60" rx="10" fill="#27ae60" stroke="#229954" stroke-width="2"/>
  <text x="720" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    5. Database
  </text>
  <text x="720" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    Operation
  </text>
  <text x="720" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
    (JSON File)
  </text>
  
  <!-- Arrow down -->
  <path d="M 720 310 L 720 350" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 6: Success Response -->
  <rect x="660" y="350" width="120" height="60" rx="10" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
  <text x="720" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    6. Success
  </text>
  <text x="720" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">
    Response
  </text>
  <text x="720" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
    (Redirect/Update)
  </text>
  
  <!-- Validation Details Box -->
  <rect x="50" y="450" width="300" height="120" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2"/>
  <text x="200" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">
    Jenis-jenis Validasi
  </text>
  
  <text x="60" y="490" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    â€¢ Format Email: regex pattern
  </text>
  <text x="60" y="505" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    â€¢ Panjang String: min/max length
  </text>
  <text x="60" y="520" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    â€¢ Nomor HP: format Indonesia
  </text>
  <text x="60" y="535" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    â€¢ Required Fields: tidak boleh kosong
  </text>
  <text x="60" y="550" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    â€¢ Data Type: string, number, date
  </text>
  
  <!-- Database Structure Box -->
  <rect x="400" y="450" width="350" height="120" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2"/>
  <text x="575" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">
    Struktur Database JSON
  </text>
  
  <text x="410" y="490" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    {
  </text>
  <text x="420" y="505" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    "metadata": { "last_id": 3, "total": 3 },
  </text>
  <text x="420" y="520" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    "siswa": [
  </text>
  <text x="430" y="535" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    { "id": 1, "nama": "...", "email": "..." }
  </text>
  <text x="420" y="550" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    ]
  </text>
  <text x="410" y="565" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
    }
  </text>
  
  <!-- Key Concepts -->
  <text x="50" y="590" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c3e50">
    ðŸ”‘ Konsep Kunci: Double Validation (Client + Server), Error Handling, Data Persistence
  </text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
    </marker>
  </defs>
</svg>